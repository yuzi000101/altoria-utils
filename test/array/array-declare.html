<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数组的基本方法</title>
</head>

<body>

    <script>

        Array.prototype.map = function (callback) {
            const arr = []
            // 遍历当前数组中的每个元素，调用callback得到结果数据，添加arr
            for (let index = 0; index < this.length; index++) {
                const element = this[index]
                const result = callback(element, index)
                arr.push(result)
            }
            return arr
        }

        Array.prototype.reduce = function (callback, initValue) {
            let total = initValue
            // 遍历当前数组中的每个元素，调用callback得到累加结果数据，返回total
            for (let index = 0; index < this.length; index++) {
                const element = this[index]
                total = callback(total, element, index)

            }
            return total
        }

        Array.prototype.filter = function (callback) {
            const arr = []
            // 遍历当前数组中的每个元素，调用callback得到布尔值，如果为真，则将element添加到arr
            for (let index = 0; index < this.length; index++) {
                const element = this[index]
                const result = callback(element, index)
                if (result) {
                    arr.push(element)
                }
            }
            return arr
        }

        Array.prototype.find = function (callback) {
            // 遍历当前数组中的每个元素，调用callback得到布尔值，如果为真，则返回element
            for (let index = 0; index < this.length; index++) {
                const element = this[index]
                const result = callback(element, index)
                if (result) {
                    return element
                }
            }
            return false
        }

        Array.prototype.findIndex = function (callback) {
            // 遍历当前数组中的每个元素，调用callback得到布尔值，如果为真，则返回element
            for (let index = 0; index < this.length; index++) {
                const element = this[index]
                const result = callback(element, index)
                if (result) {
                    return index
                }
            }
            return -1
        }

        Array.prototype.every = function (callback) {
            // 遍历当前数组中的每个元素，调用callback得到布尔值，一旦条件为false，则返回false
            for (let index = 0; index < this.length; index++) {
                const element = this[index]
                const result = callback(element, index)
                if (!result) {
                    return false
                }
            }
            return true
        }
        Array.prototype.some = function (callback) {
            // 遍历当前数组中的每个元素，调用callback得到布尔值，一旦条件为true，则返回true
            for (let index = 0; index < this.length; index++) {
                const element = this[index]
                const result = callback(element, index)
                if (!result) {
                    return true
                }
            }
            return false
        }
    </script>

    <script>

        const arr = [1, 3, 6, 9, 15, 19, 16]

        console.log(arr.map((item, index) => item + 10))

        console.log(arr.reduce((preTotal, item, index) => preTotal + (item % 2 === 1 ? item : 0), 0))

        console.log(arr.filter((item, index) => item > 8 && index % 2 === 0))

        console.log(arr.find((item, index) => item > 8 && index % 2 === 0))

        console.log(arr.findIndex((item, index) => item > 8 && index % 2 === 0))

        // 判断下标为偶数的元素是否为奇数
        console.log(arr.every((item, index) => index % 2 === 1 || (index % 2 === 0 && item % 2 === 1)))
        console.log(arr.some((item, index) => index % 2 === 1 || (index % 2 === 0 && item % 2 === 1)))

    </script>

</body>

</html>